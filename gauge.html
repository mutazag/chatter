<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fictional Speed Gauge (0–200 MPH)</title>
<style>
  :root{
    --bg0:#080b12;
    --bg1:#0c1220;
    --panel:#0f1930;
    --ring:#22335a;
    --ring2:#2f447a;
    --tick:#8fb0ff;
    --minor:rgba(143,176,255,.35);
    --label:rgba(240,245,255,.86);
    --muted:rgba(240,245,255,.55);
    --glow:rgba(120,175,255,.55);
    --accent:#76d6ff;
    --warn:#ff6b8b;
    --ok:#58ffa7;

    /* geometry */
    --size:min(86vmin, 520px);
    --cx:50%;
    --cy:50%;

    /* needle angle set by JS */
    --needle-deg:-140deg;
    --needle-shadow: rgba(0,0,0,.55);
  }

  html,body{height:100%}
  body{
    margin:0;
    display:grid;
    place-items:center;
    background:
      radial-gradient(1100px 900px at 50% 35%, rgba(120,175,255,.10), transparent 60%),
      radial-gradient(900px 700px at 50% 70%, rgba(118,214,255,.08), transparent 55%),
      linear-gradient(180deg, var(--bg0), var(--bg1));
    color:var(--label);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    overflow:hidden;
  }

  .wrap{
    width:var(--size);
    aspect-ratio:1/1;
    position:relative;
    filter: drop-shadow(0 18px 38px rgba(0,0,0,.45));
  }

  /* outer bezel */
  .bezel{
    position:absolute; inset:0;
    border-radius:999px;
    background:
      radial-gradient(circle at 50% 45%, rgba(255,255,255,.08), transparent 55%),
      radial-gradient(circle at 50% 60%, rgba(0,0,0,.6), transparent 52%),
      linear-gradient(180deg, rgba(255,255,255,.08), rgba(0,0,0,.22));
    padding:14px;
    box-sizing:border-box;
  }

  /* inner face */
  .face{
    position:absolute; inset:14px;
    border-radius:999px;
    background:
      radial-gradient(circle at 50% 35%, rgba(255,255,255,.06), transparent 55%),
      radial-gradient(circle at 50% 55%, rgba(0,0,0,.35), transparent 60%),
      linear-gradient(180deg, rgba(20,34,66,.85), rgba(10,16,32,.92));
    box-shadow:
      inset 0 0 0 2px rgba(255,255,255,.04),
      inset 0 0 0 14px rgba(0,0,0,.25);
    overflow:hidden;
  }

  /* decorative ring */
  .ring{
    position:absolute; inset:28px;
    border-radius:999px;
    box-shadow:
      inset 0 0 0 2px rgba(143,176,255,.10),
      inset 0 0 0 10px rgba(34,51,90,.18);
  }

  /* ticks are drawn with SVG; keep it crisp */
  svg{display:block; width:100%; height:100%}

  /* center hub */
  .hub{
    position:absolute;
    left:50%; top:50%;
    width:74px; height:74px;
    transform:translate(-50%,-50%);
    border-radius:999px;
    background:
      radial-gradient(circle at 40% 35%, rgba(255,255,255,.28), transparent 45%),
      radial-gradient(circle at 50% 60%, rgba(0,0,0,.55), transparent 62%),
      linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.28));
    box-shadow:
      0 0 26px rgba(118,214,255,.20),
      inset 0 0 0 2px rgba(255,255,255,.06),
      inset 0 0 18px rgba(0,0,0,.55);
    z-index:6;
  }
  .hub:after{
    content:"";
    position:absolute; inset:14px;
    border-radius:999px;
    background:
      radial-gradient(circle at 40% 35%, rgba(255,255,255,.18), transparent 48%),
      linear-gradient(180deg, rgba(118,214,255,.10), rgba(0,0,0,.18));
    box-shadow: inset 0 0 14px rgba(0,0,0,.55);
  }

  /* needle assembly */
  .needle{
    position:absolute;
    left:50%; top:50%;
    width:0; height:0;
    transform:translate(-50%,-50%) rotate(var(--needle-deg));
    transform-origin: 50% 50%;
    z-index:5;
    will-change: transform;
  }
  .needle .arm{
    position:absolute;
    left:0; top:0;
    width:calc(var(--size) * .42);
    height:12px;
    transform:translate(8px, -50%);
    border-radius: 10px;
    background:
      linear-gradient(90deg, rgba(255,255,255,.10), rgba(255,255,255,.02) 25%, rgba(0,0,0,.18) 70%, rgba(0,0,0,.38)),
      linear-gradient(90deg, rgba(118,214,255,.0), rgba(118,214,255,.22));
    box-shadow:
      0 6px 14px var(--needle-shadow),
      0 0 20px rgba(118,214,255,.22);
  }
  .needle .arm:before{
    /* thin highlight */
    content:"";
    position:absolute; left:10px; right:16px; top:2px;
    height:2px;
    border-radius:2px;
    background: linear-gradient(90deg, rgba(255,255,255,.22), rgba(255,255,255,0));
    opacity:.9;
  }
  .needle .tip{
    position:absolute;
    left:calc(var(--size) * .42 + 12px);
    top:0;
    width:0; height:0;
    transform:translate(0,-50%);
    border-left:18px solid rgba(255,107,139,.95);
    border-top:8px solid transparent;
    border-bottom:8px solid transparent;
    filter: drop-shadow(0 0 10px rgba(255,107,139,.25));
  }

  /* bottom status + digital readout */
  .readout{
    position:absolute;
    left:50%; bottom:26px;
    transform:translateX(-50%);
    width:74%;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    z-index:7;
  }
  .pill{
    flex:1;
    padding:10px 14px;
    border-radius:999px;
    background: rgba(0,0,0,.22);
    box-shadow:
      inset 0 0 0 1px rgba(255,255,255,.06),
      0 0 22px rgba(118,214,255,.10);
    display:flex;
    align-items:baseline;
    justify-content:space-between;
    gap:10px;
    backdrop-filter: blur(8px);
  }
  .mph{
    letter-spacing:.18em;
    font-size:11px;
    color:var(--muted);
    text-transform:uppercase;
    white-space:nowrap;
  }
  .val{
    font-variant-numeric: tabular-nums;
    font-size:26px;
    letter-spacing:.04em;
    text-shadow: 0 0 18px rgba(118,214,255,.12);
  }
  .brand{
    font-size:11px;
    letter-spacing:.14em;
    text-transform:uppercase;
    color:rgba(240,245,255,.55);
    padding:10px 12px;
    border-radius:999px;
    background: rgba(0,0,0,.18);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
    white-space:nowrap;
  }

  /* subtle vignette + glass */
  .glass{
    position:absolute; inset:0;
    border-radius:999px;
    background:
      radial-gradient(circle at 30% 20%, rgba(255,255,255,.16), transparent 42%),
      radial-gradient(circle at 70% 75%, rgba(0,0,0,.18), transparent 52%),
      linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.12));
    pointer-events:none;
    mix-blend-mode: screen;
    opacity:.8;
    z-index:9;
  }

  /* tiny center dot */
  .dot{
    position:absolute;
    left:50%; top:50%;
    width:10px; height:10px;
    transform:translate(-50%,-50%);
    border-radius:999px;
    background: rgba(255,255,255,.65);
    box-shadow: 0 0 12px rgba(118,214,255,.30);
    z-index:10;
  }

  /* accessibility */
  .sr-only{
    position:absolute;
    width:1px;height:1px;
    padding:0;margin:-1px;
    overflow:hidden;clip:rect(0,0,0,0);
    white-space:nowrap;border:0;
  }
</style>
</head>
<body>
  <div class="wrap" role="img" aria-label="Animated circular speed gauge from 0 to 200 MPH, accelerating to 120, pausing with micro vibrations, then returning to 0.">
    <div class="bezel">
      <div class="face">
        <div class="ring"></div>

        <!-- SVG ticks + numerals -->
        <svg viewBox="0 0 1000 1000" aria-hidden="true">
          <defs>
            <filter id="glow">
              <feGaussianBlur stdDeviation="2.4" result="b"/>
              <feMerge>
                <feMergeNode in="b"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>

            <linearGradient id="arcGrad" x1="0" y1="0" x2="1" y2="0">
              <stop offset="0" stop-color="rgba(118,214,255,.05)"/>
              <stop offset="0.55" stop-color="rgba(118,214,255,.20)"/>
              <stop offset="1" stop-color="rgba(255,107,139,.12)"/>
            </linearGradient>
          </defs>

          <!-- faint arc band to suggest scale sweep -->
          <path d="" id="sweepArc" fill="none" stroke="url(#arcGrad)" stroke-width="34" stroke-linecap="round" opacity="0.9"/>

          <g id="ticks"></g>
          <g id="labels"></g>

          <!-- center text -->
          <text x="500" y="440" text-anchor="middle" font-size="28" fill="rgba(240,245,255,.62)" letter-spacing="6">VXR-9</text>
          <text x="500" y="475" text-anchor="middle" font-size="12" fill="rgba(240,245,255,.42)" letter-spacing="3">FICTIONAL PERFORMANCE UNIT</text>
        </svg>

        <!-- needle -->
        <div class="needle" id="needle">
          <div class="arm"></div>
          <div class="tip"></div>
        </div>

        <!-- hub -->
        <div class="hub"></div>
        <div class="dot"></div>

        <!-- readout -->
        <div class="readout">
          <div class="pill">
            <div class="mph">Speed</div>
            <div class="val" id="speedVal">0</div>
            <div class="mph">MPH</div>
          </div>
          <div class="brand">NEON•DIAL</div>
        </div>

        <div class="glass"></div>
        <div class="sr-only" id="srText">0 MPH</div>
      </div>
    </div>
  </div>

<script>
(() => {
  // Gauge mapping:
  // 0 MPH -> startAngle, 200 MPH -> endAngle
  const startAngle = -140;     // degrees
  const endAngle   =  140;     // degrees
  const maxMPH     = 200;

  // Animation phases (ms) — tuned for a clean seamless loop
  const tAccel = 1700;  // accelerate 0 -> 120
  const tHold  = 900;   // hold around 120 with micro-vibration
  const tDecel = 2000;  // decelerate 120 -> 0
  const total  = tAccel + tHold + tDecel;

  const targetMPH = 120;

  const needle = document.getElementById('needle');
  const speedVal = document.getElementById('speedVal');
  const srText = document.getElementById('srText');

  // Build ticks + labels as original design (not a stock gauge layout)
  const ticksG = document.getElementById('ticks');
  const labelsG = document.getElementById('labels');

  // Helper to create SVG elements
  const NS = "http://www.w3.org/2000/svg";
  const el = (tag, attrs={}) => {
    const n = document.createElementNS(NS, tag);
    for (const [k,v] of Object.entries(attrs)) n.setAttribute(k, v);
    return n;
  };

  // Map MPH to angle
  const mphToAngle = (mph) => startAngle + (mph / maxMPH) * (endAngle - startAngle);

  // Polar to cartesian
  const pc = (cx, cy, r, deg) => {
    const a = (deg - 90) * Math.PI/180;
    return { x: cx + r * Math.cos(a), y: cy + r * Math.sin(a) };
  };

  // Draw sweep arc
  const sweep = document.getElementById('sweepArc');
  const arcPath = (cx, cy, r, a0, a1) => {
    const p0 = pc(cx, cy, r, a0);
    const p1 = pc(cx, cy, r, a1);
    const large = (Math.abs(a1 - a0) > 180) ? 1 : 0;
    const sweepFlag = 1;
    return `M ${p0.x.toFixed(2)} ${p0.y.toFixed(2)} A ${r} ${r} 0 ${large} ${sweepFlag} ${p1.x.toFixed(2)} ${p1.y.toFixed(2)}`;
  };
  sweep.setAttribute('d', arcPath(500, 500, 390, startAngle, endAngle));

  // Tick rules:
  // Major ticks every 20 MPH, medium at 10, minor at 5 (but only within the sweep)
  for (let mph = 0; mph <= maxMPH; mph += 5) {
    const a = mphToAngle(mph);
    const isMajor = (mph % 20 === 0);
    const isMid   = (!isMajor && mph % 10 === 0);

    const rOuter = 420;
    const rInner = isMajor ? 360 : isMid ? 375 : 392;

    const p0 = pc(500, 500, rOuter, a);
    const p1 = pc(500, 500, rInner, a);

    const line = el('line', {
      x1: p0.x, y1: p0.y, x2: p1.x, y2: p1.y,
      stroke: isMajor ? "rgba(143,176,255,.85)" : isMid ? "rgba(143,176,255,.55)" : "rgba(143,176,255,.28)",
      "stroke-width": isMajor ? 6 : isMid ? 4 : 2,
      "stroke-linecap": "round",
      filter: isMajor ? "url(#glow)" : "none",
      opacity: isMajor ? 1 : 0.95
    });
    ticksG.appendChild(line);

    // Labels at major ticks, but with an original "stepped" radial offset for visual rhythm
    if (isMajor) {
      const rLab = (mph % 40 === 0) ? 315 : 325; // alternating offset
      const pt = pc(500, 500, rLab, a);
      const txt = el('text', {
        x: pt.x, y: pt.y,
        "text-anchor": "middle",
        "dominant-baseline": "middle",
        "font-size": (mph === 0 || mph === 200) ? 34 : 30,
        "font-variant-numeric": "tabular-nums",
        fill: "rgba(240,245,255,.78)",
        opacity: 0.92,
        "letter-spacing": "2"
      });
      txt.textContent = String(mph);
      labelsG.appendChild(txt);
    }
  }

  // Easing functions
  const clamp01 = (x) => Math.max(0, Math.min(1, x));
  const easeInQuad = (t) => t*t;
  const easeOutCubic = (t) => 1 - Math.pow(1 - t, 3);

  // Micro vibration: deterministic wobble (no random) so the loop is seamless.
  const microWobble = (tMs) => {
    // Combine a couple of sines with integer cycle counts over hold duration
    // so start/end match exactly.
    const t = tMs / 1000;
    const w1 = Math.sin(t * 2 * Math.PI * 9);  // 9 Hz
    const w2 = Math.sin(t * 2 * Math.PI * 17); // 17 Hz
    return (w1 * 0.55 + w2 * 0.45);
  };

  // Set gauge
  const setMPH = (mph, extraDeg=0) => {
    const angle = mphToAngle(mph) + extraDeg;
    document.documentElement.style.setProperty('--needle-deg', angle.toFixed(3) + 'deg');
    const shown = Math.round(mph);
    speedVal.textContent = shown;
    srText.textContent = shown + " MPH";
  };

  let t0 = performance.now();

  const frame = (now) => {
    const t = (now - t0) % total;

    let mph = 0;
    let jitterDeg = 0;

    if (t < tAccel) {
      // Accelerate 0 -> 120 with ease-in (feels like torque building)
      const p = clamp01(t / tAccel);
      mph = targetMPH * easeInQuad(p);
    } else if (t < tAccel + tHold) {
      // Hold at 120 with subtle micro vibrations
      const th = t - tAccel;
      mph = targetMPH;
      // small angle jitter (not MPH jitter) for realism
      jitterDeg = microWobble(th) * 0.65; // degrees
    } else {
      // Decelerate 120 -> 0 with ease-out (feels like braking taper)
      const td = t - (tAccel + tHold);
      const p = clamp01(td / tDecel);
      mph = targetMPH * (1 - easeOutCubic(p));
    }

    setMPH(mph, jitterDeg);
    requestAnimationFrame(frame);
  };

  // Initialize at 0
  setMPH(0, 0);
  requestAnimationFrame(frame);
})();
</script>
</body>
</html>